<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />


<meta name="date" content="2021-04-04" />

<title>Getting Started with lehdr</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Getting Started with lehdr</h1>
<h3 class="subtitle"><u>Common uses of lehdr</u></h3>
<h4 class="author">Jamaal Green</h4>
<h4 class="author">Dillon Mahmoudi</h4>
<h4 class="author">Liming Wang</h4>
<h4 class="date">04 April 2021</h4>



<p>This vignette is a brief introduction to the package including its installation and making some basic queries.</p>
<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p><strong>lehdr</strong> is an R package that allows users to draw <a href="https://lehd.ces.census.gov/data/#lodes">Longitudinal and Employer Household Dynamics</a> Origin-Destination Employment Statistics (LODES) datasets returned as dataframes. The LODES dataset forms the backbone of the US Census’s <a href="https://OnTheMap.ces.census.gov/"><strong>OnTheMap</strong></a> web app that allows users to track changing spatial employment patterns at a fine geographic scale. While OnTheMap is useful, it is a limited tool that does not easily allow comparisons over time or across geographies. This package exists to make querying the tables that form the OnTheMap easier for urban researchers and practitioners, such as transportation and economic development planners and disaster preparedness professionals.</p>
</div>
<div id="installation" class="section level1">
<h1>Installation</h1>
<p><strong>lehdr</strong> has not yet been submitted to CRAN so installing using <strong>devtools</strong> is required. Additionally, we’ll be using <strong>dplyr</strong>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>devtools<span class="sc">::</span><span class="fu">install_github</span>(<span class="st">&quot;jamgreen/lehdr&quot;</span>)</span></code></pre></div>
<pre><code>## 
##   
  
  
   checking for file &#39;C:\Users\jamaalg\AppData\Local\Temp\RtmpuOTcuT\remotes7208148230a8\jamgreen-lehdr-c5611d2/DESCRIPTION&#39; ...
  
v  checking for file &#39;C:\Users\jamaalg\AppData\Local\Temp\RtmpuOTcuT\remotes7208148230a8\jamgreen-lehdr-c5611d2/DESCRIPTION&#39; (484ms)
## 
  
  
  
-  preparing &#39;lehdr&#39;:
##    checking DESCRIPTION meta-information ...
  
   checking DESCRIPTION meta-information ... 
  
v  checking DESCRIPTION meta-information
## 
  
  
  
-  checking for LF line-endings in source and make files and shell scripts
## 
  
  
  
-  checking for empty or unneeded directories
## 
  
  
  
-  building &#39;lehdr_0.2.4.tar.gz&#39;
## 
  
   
## </code></pre>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(lehdr)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringr)</span></code></pre></div>
</div>
<div id="usage" class="section level1">
<h1>Usage</h1>
<p>This first example pulls the Oregon (<code>state = &quot;or&quot;</code>) 2014 (<code>year = 2014</code>), origin-destination (<code>lodes_type = &quot;od&quot;</code>), all jobs including private primary, secondary, and Federal (<code>job_type = &quot;JT01&quot;</code>), all jobs across ages, earnings, and industry (<code>segment = &quot;S000&quot;</code>), aggregated at the Census Tract level rather than the default Census Block (<code>agg_geo = &quot;tract&quot;</code>).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>or_od <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;or&quot;</span>, <span class="at">year =</span> <span class="dv">2014</span>, <span class="at">lodes_type =</span> <span class="st">&quot;od&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">state_part =</span> <span class="st">&quot;main&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;tract&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/or_od_main_JT01_2014.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(or_od)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##    year state w_tract   h_tract   S000  SA01  SA02  SA03  SE01  SE02  SE03  SI01
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2014 OR    41001950~ 4100195~    89     6    37    46    35    30    24    21
## 2  2014 OR    41001950~ 4100195~    35     2    25     8     6    13    16     1
## 3  2014 OR    41001950~ 4100195~    23     6    12     5     5    12     6     7
## 4  2014 OR    41001950~ 4100195~    20     0    17     3     4     4    12     4
## 5  2014 OR    41001950~ 4100195~    24     8    10     6     3    12     9     6
## 6  2014 OR    41001950~ 4100195~    10     3     5     2     4     5     1     2
## # ... with 2 more variables: SI02 &lt;dbl&gt;, SI03 &lt;dbl&gt;</code></pre>
<p>The package can be used to retrieve multiple states and years at the same time by creating a vector or list. This second example pulls the Oregon AND Rhode Island (<code>state = c(&quot;or&quot;, &quot;ri&quot;)</code>) for 2013 and 2014 (<code>year = c(2013, 2014)</code> or <code>year = 2013:2014</code>).</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>or_ri_od <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="fu">c</span>(<span class="st">&quot;or&quot;</span>, <span class="st">&quot;ri&quot;</span>), <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2013</span>, <span class="dv">2014</span>), <span class="at">lodes_type =</span> <span class="st">&quot;od&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">state_part =</span> <span class="st">&quot;main&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;tract&quot;</span>)     </span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/or_od_main_JT01_2013.csv.gz
## Reading now...</code></pre>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/ri_od_main_JT01_2013.csv.gz
## Reading now...</code></pre>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/or_od_main_JT01_2014.csv.gz
## Reading now...</code></pre>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/ri_od_main_JT01_2014.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(or_ri_od)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##   year  state w_tract   h_tract   S000  SA01  SA02  SA03  SE01  SE02  SE03  SI01
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 2013  OR    41001950~ 4100195~    80     4    39    37    25    30    25    25
## 2 2013  OR    41001950~ 4100195~    27     4    15     8     8    11     8     3
## 3 2013  OR    41001950~ 4100195~    11     1     5     5     6     3     2     1
## 4 2013  OR    41001950~ 4100195~    21     3    14     4     5     8     8     4
## 5 2013  OR    41001950~ 4100195~    27    12     8     7     4    15     8     8
## 6 2013  OR    41001950~ 4100195~     4     1     2     1     2     0     2     0
## # ... with 2 more variables: SI02 &lt;dbl&gt;, SI03 &lt;dbl&gt;</code></pre>
<p>Not all years are available for each state. To see all options for <code>lodes_type</code>, <code>job_type</code>, and <code>segment</code> and the availability for each state/year, please see the most recent LEHD Technical Document at <a href="https://lehd.ces.census.gov/data/lodes/LODES7/" class="uri">https://lehd.ces.census.gov/data/lodes/LODES7/</a>.</p>
<p>Other common uses might include retrieving Residential or Work Area Characteristics (<code>lodes_type = &quot;rac&quot;</code> or <code>lodes_type = &quot;wac&quot;</code> respectively), low income jobs (<code>segment = &quot;SE01&quot;</code>) or good producing jobs (<code>segment = &quot;SI01&quot;</code>). Other common geographies might include retrieving data at the Census Block level (<code>agg_geo = &quot;block&quot;</code>, not necessary as it is default) – but see below for other aggregation levels.</p>
</div>
<div id="additional-examples" class="section level1">
<h1>Additional Examples</h1>
<div id="adding-at-county-level-signifiers" class="section level2">
<h2>Adding at County level signifiers</h2>
<p>The following examples loads work area characteristics (wac), then uses the work area geoid <code>w_geocode</code> to create a variable that is just the county <code>w_county_fips</code>. Similar transformations can be made on residence area characteristics (rac) by using the <code>h_geocode</code> variable. Both variables are available in origin-destination (od) datasets and with od, one would need to set a <code>h_county_fips</code> and on <code>w_county_fips</code>.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>md_rac <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;wac&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_wac_S000_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 55
##   w_geocode     C000  CA01  CA02  CA03  CE01  CE02  CE03 CNS01 CNS02 CNS03 CNS04
##   &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 24001000100~     7     3     3     1     4     3     0     0     0     0     0
## 2 24001000100~     1     0     1     0     0     1     0     0     0     0     0
## 3 24001000100~    10     2     3     5     7     3     0     0     0     0     0
## 4 24001000100~     2     0     2     0     0     1     1     0     0     0     0
## 5 24001000100~     8     4     4     0     7     1     0     0     0     0     0
## 6 24001000100~     2     0     2     0     0     2     0     0     0     0     0
## # ... with 43 more variables: CNS05 &lt;dbl&gt;, CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;,
## #   CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;, CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;,
## #   CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;, CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;,
## #   CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;, CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;,
## #   CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;, CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;,
## #   CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;, CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;, CFA01 &lt;dbl&gt;,
## #   CFA02 &lt;dbl&gt;, CFA03 &lt;dbl&gt;, CFA04 &lt;dbl&gt;, CFA05 &lt;dbl&gt;, CFS01 &lt;dbl&gt;,
## #   CFS02 &lt;dbl&gt;, CFS03 &lt;dbl&gt;, CFS04 &lt;dbl&gt;, CFS05 &lt;dbl&gt;, createdate &lt;chr&gt;,
## #   year &lt;dbl&gt;, state &lt;chr&gt;</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>md_rac_county <span class="ot">&lt;-</span> md_rac <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">w_county_fips =</span> <span class="fu">str_sub</span>(w_geocode, <span class="dv">1</span>, <span class="dv">5</span>))</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_county)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 56
##   w_geocode     C000  CA01  CA02  CA03  CE01  CE02  CE03 CNS01 CNS02 CNS03 CNS04
##   &lt;chr&gt;        &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 24001000100~     7     3     3     1     4     3     0     0     0     0     0
## 2 24001000100~     1     0     1     0     0     1     0     0     0     0     0
## 3 24001000100~    10     2     3     5     7     3     0     0     0     0     0
## 4 24001000100~     2     0     2     0     0     1     1     0     0     0     0
## 5 24001000100~     8     4     4     0     7     1     0     0     0     0     0
## 6 24001000100~     2     0     2     0     0     2     0     0     0     0     0
## # ... with 44 more variables: CNS05 &lt;dbl&gt;, CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;,
## #   CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;, CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;,
## #   CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;, CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;,
## #   CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;, CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;,
## #   CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;, CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;,
## #   CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;, CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;, CFA01 &lt;dbl&gt;,
## #   CFA02 &lt;dbl&gt;, CFA03 &lt;dbl&gt;, CFA04 &lt;dbl&gt;, CFA05 &lt;dbl&gt;, CFS01 &lt;dbl&gt;,
## #   CFS02 &lt;dbl&gt;, CFS03 &lt;dbl&gt;, CFS04 &lt;dbl&gt;, CFS05 &lt;dbl&gt;, createdate &lt;chr&gt;,
## #   year &lt;dbl&gt;, state &lt;chr&gt;, w_county_fips &lt;chr&gt;</code></pre>
</div>
<div id="aggregating-at-the-county-level" class="section level2">
<h2>Aggregating at the County level</h2>
<p>To aggregate at the county level, continuing the above example, we must also drop the original lock geoid <code>w_geocode</code>, group by our new variable <code>w_county_fips</code> and our existing variables <code>year</code> and <code>createdate</code>, then aggregate the remaining numeric variables.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>md_rac_county <span class="ot">&lt;-</span> md_rac <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">w_county_fips =</span> <span class="fu">str_sub</span>(w_geocode, <span class="dv">1</span>, <span class="dv">5</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="st">&quot;w_geocode&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(w_county_fips, state, year, createdate) <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise_if</span>(is.numeric, sum)</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_county)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 55
## # Groups:   w_county_fips, state, year [6]
##   w_county_fips state  year createdate   C000  CA01   CA02  CA03  CE01   CE02
##   &lt;chr&gt;         &lt;chr&gt; &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;
## 1 24001         MD     2015 20190826    25887  5653  13801  6433  5938  11081
## 2 24003         MD     2015 20190826   237881 57186 125917 54778 44280  72498
## 3 24005         MD     2015 20190826   345823 82049 180737 83037 68082 112227
## 4 24009         MD     2015 20190826    20063  5119  10381  4563  4539   6775
## 5 24011         MD     2015 20190826     7939  1567   4179  2193  1346   3293
## 6 24013         MD     2015 20190826    52618 13124  26078 13416 11985  18843
## # ... with 45 more variables: CE03 &lt;dbl&gt;, CNS01 &lt;dbl&gt;, CNS02 &lt;dbl&gt;,
## #   CNS03 &lt;dbl&gt;, CNS04 &lt;dbl&gt;, CNS05 &lt;dbl&gt;, CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;,
## #   CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;, CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;,
## #   CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;, CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;,
## #   CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;, CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;,
## #   CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;, CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;,
## #   CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;, CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;, CFA01 &lt;dbl&gt;,
## #   CFA02 &lt;dbl&gt;, CFA03 &lt;dbl&gt;, CFA04 &lt;dbl&gt;, CFA05 &lt;dbl&gt;, CFS01 &lt;dbl&gt;,
## #   CFS02 &lt;dbl&gt;, CFS03 &lt;dbl&gt;, CFS04 &lt;dbl&gt;, CFS05 &lt;dbl&gt;</code></pre>
<p>Alternatively, this functionality is also built-in to the package and advisable for origin-destination grabs. Here include an argument to aggregate at the County level (<code>agg_geo = &quot;county&quot;</code>):</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>md_rac_county <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;rac&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;county&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_rac_S000_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_county)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 44
##    year state h_county   C000  CA01   CA02  CA03  CE01   CE02   CE03 CNS01 CNS02
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2015 MD    24001     24683  5488  13029  6166  5598  10294   8791    51   140
## 2  2015 MD    24003    239454 51186 131373 56895 38476  63599 137379   214    84
## 3  2015 MD    24005    371927 79756 198239 93932 62678 112647 196602   426    99
## 4  2015 MD    24009     32868  7565  17830  7473  5643   9029  18196    48    11
## 5  2015 MD    24011     14935  3285   7827  3823  2800   5829   6306   238    13
## 6  2015 MD    24013     80257 17028  42594 20635 13427  21671  45159   347    31
## # ... with 32 more variables: CNS03 &lt;dbl&gt;, CNS04 &lt;dbl&gt;, CNS05 &lt;dbl&gt;,
## #   CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;, CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;,
## #   CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;, CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;,
## #   CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;, CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;,
## #   CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;, CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;,
## #   CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;, CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;,
## #   CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;</code></pre>
</div>
<div id="aggregating-origin-destination" class="section level2">
<h2>Aggregating Origin-Destination</h2>
<p>As mentioned above, aggregating origin-destination is built-in. This takes care of aggregation on both the <code>h_geocode</code> and <code>w_geocode</code> variables:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>md_od_county <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;od&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;county&quot;</span>, <span class="at">state_part =</span> <span class="st">&quot;main&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_od_main_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_od_county)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 14
##    year state w_county h_county  S000  SA01  SA02  SA03  SE01  SE02  SE03  SI01
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2015 MD    24001    24001    16347  3533  8570  4244  3911  7249  5187  1908
## 2  2015 MD    24001    24003      171    48    78    45    53    51    67    10
## 3  2015 MD    24001    24005      272    68   140    64    73    92   107     7
## 4  2015 MD    24001    24009       29    13     8     8    15     7     7     1
## 5  2015 MD    24001    24011        9     1     7     1     2     3     4     0
## 6  2015 MD    24001    24013       74    22    41    11    24    22    28     2
## # ... with 2 more variables: SI02 &lt;dbl&gt;, SI03 &lt;dbl&gt;</code></pre>
</div>
<div id="aggregating-at-block-group-tract-or-state-level" class="section level2">
<h2>Aggregating at Block Group, Tract, or State level</h2>
<p>Similarly, built-in functions exist to group at Block Group, Tract, County, and State levels. County was demonstrated above. All require setting the <code>agg_geo</code> argument. This aggregation works for all three LODES types.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>md_rac_bg <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;rac&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;bg&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_rac_S000_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_bg)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 44
##    year state h_bg    C000  CA01  CA02  CA03  CE01  CE02  CE03 CNS01 CNS02 CNS03
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2015 MD    24001~   251    56   126    69    51   103    97     2     2     0
## 2  2015 MD    24001~   452    90   242   120    91   183   178     3     6     2
## 3  2015 MD    24001~   341    71   191    79    74   150   117     1     4     1
## 4  2015 MD    24001~   294    51   157    86    52   124   118     1     2     1
## 5  2015 MD    24001~   352    66   196    90    78   134   140     1     0     0
## 6  2015 MD    24001~   550   119   286   145   105   244   201     1     2     0
## # ... with 31 more variables: CNS04 &lt;dbl&gt;, CNS05 &lt;dbl&gt;, CNS06 &lt;dbl&gt;,
## #   CNS07 &lt;dbl&gt;, CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;, CNS11 &lt;dbl&gt;,
## #   CNS12 &lt;dbl&gt;, CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;, CNS16 &lt;dbl&gt;,
## #   CNS17 &lt;dbl&gt;, CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;, CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;,
## #   CR03 &lt;dbl&gt;, CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;, CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;,
## #   CD01 &lt;dbl&gt;, CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;, CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>md_rac_tract <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;rac&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;tract&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_rac_S000_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_tract)</span></code></pre></div>
<pre><code>## # A tibble: 6 x 44
##    year state h_tract      C000  CA01  CA02  CA03  CE01  CE02  CE03 CNS01 CNS02
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;       &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2015 MD    24001000100  1044   217   559   268   216   436   392     6    12
## 2  2015 MD    24001000200  1196   236   639   321   235   502   459     3     4
## 3  2015 MD    24001000300   945   206   493   246   225   395   325     3     1
## 4  2015 MD    24001000400  1134   228   598   308   282   466   386     0     5
## 5  2015 MD    24001000500   746   159   371   216   184   337   225     1     2
## 6  2015 MD    24001000600  1091   265   573   253   261   459   371     1     2
## # ... with 32 more variables: CNS03 &lt;dbl&gt;, CNS04 &lt;dbl&gt;, CNS05 &lt;dbl&gt;,
## #   CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;, CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;, CNS10 &lt;dbl&gt;,
## #   CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;, CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;, CNS15 &lt;dbl&gt;,
## #   CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;, CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;, CNS20 &lt;dbl&gt;,
## #   CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;, CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;, CR07 &lt;dbl&gt;,
## #   CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;, CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;, CD04 &lt;dbl&gt;,
## #   CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>md_rac_state <span class="ot">&lt;-</span> <span class="fu">grab_lodes</span>(<span class="at">state =</span> <span class="st">&quot;md&quot;</span>, <span class="at">year =</span> <span class="dv">2015</span>, <span class="at">lodes_type =</span> <span class="st">&quot;rac&quot;</span>, <span class="at">job_type =</span> <span class="st">&quot;JT01&quot;</span>, </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>           <span class="at">segment =</span> <span class="st">&quot;S000&quot;</span>, <span class="at">agg_geo =</span> <span class="st">&quot;state&quot;</span>)</span></code></pre></div>
<pre><code>## Cached version of file found in C:\Users\jamaalg\AppData\Local/lehdr/lehdr/Cache/md_rac_S000_JT01_2015.csv.gz
## Reading now...</code></pre>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(md_rac_state)</span></code></pre></div>
<pre><code>## # A tibble: 1 x 44
##    year state h_state    C000   CA01    CA02   CA03   CE01   CE02    CE03 CNS01
##   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt;
## 1  2015 MD    24      2532518 536277 1385785 610456 418694 748393 1365431  4819
## # ... with 33 more variables: CNS02 &lt;dbl&gt;, CNS03 &lt;dbl&gt;, CNS04 &lt;dbl&gt;,
## #   CNS05 &lt;dbl&gt;, CNS06 &lt;dbl&gt;, CNS07 &lt;dbl&gt;, CNS08 &lt;dbl&gt;, CNS09 &lt;dbl&gt;,
## #   CNS10 &lt;dbl&gt;, CNS11 &lt;dbl&gt;, CNS12 &lt;dbl&gt;, CNS13 &lt;dbl&gt;, CNS14 &lt;dbl&gt;,
## #   CNS15 &lt;dbl&gt;, CNS16 &lt;dbl&gt;, CNS17 &lt;dbl&gt;, CNS18 &lt;dbl&gt;, CNS19 &lt;dbl&gt;,
## #   CNS20 &lt;dbl&gt;, CR01 &lt;dbl&gt;, CR02 &lt;dbl&gt;, CR03 &lt;dbl&gt;, CR04 &lt;dbl&gt;, CR05 &lt;dbl&gt;,
## #   CR07 &lt;dbl&gt;, CT01 &lt;dbl&gt;, CT02 &lt;dbl&gt;, CD01 &lt;dbl&gt;, CD02 &lt;dbl&gt;, CD03 &lt;dbl&gt;,
## #   CD04 &lt;dbl&gt;, CS01 &lt;dbl&gt;, CS02 &lt;dbl&gt;</code></pre>
</div>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
